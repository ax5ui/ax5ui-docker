"use strict";!function(){var e=ax5.ui,a=ax5.util;e.addClass({className:"docker",version:"${VERSION}"},function(){var e=function(){var e=this,n=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,columnKeys:{}},this.panels=[],this.panelId=0,this.modules={},n=this.config;var t=function(){return e.panelId++},i=function(e,a){e.$element.html(a.name)},d=function(){var d=function(a){var n=jQuery.extend(a.moduleState,{name:a.name}),t={$element:a.$item};a.moduleName in e.modules&&"init"in e.modules[a.moduleName]?e.modules[a.moduleName].init(t,n):i(t,n)},o={stack:function(e,n,t,i){var d=void 0,l=-1,s=[];n&&"undefined"!=typeof n.panelPath&&s.push(n.panelPath),"undefined"==typeof t.panelPath&&(t.panelPath=i||0),s.push(t.panelPath),d=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+s.join(".")+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),e.append(d),a.isArray(t.panels)&&(t.panels.forEach(function(e,a){t.active&&(l=a)}),l===-1&&(l=0),t.panels[l].active=!0,t.panels.forEach(function(e,a){o[e.type](d,t,e,a)})),d=null,l=null},panel:function(e,a,i,o){var l=void 0,s=void 0,p=void 0;p=jQuery('<li data-ax5docker-pane-tab="'+o+'"><div class="title">'+i.name+'</div><div class="close-icon">'+n.icons.close+"</div></li>"),i.$item||(i.$item=jQuery('<div data-ax5docker-pane-item="'+o+'" data-ax5docker-pane-id="'+t()+'"></div>')),a&&"stack"==a.type?(i.active&&(d(i),p.addClass("active"),i.$item.addClass("active")),e.find("[data-ax5docker-pane-tabs]").append(p),e.find("[data-ax5docker-pane-item-views]").append(i.$item)):(l=jQuery('<div data-ax5docker-pane=""><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),d(i),p.addClass("active"),i.$item.addClass("active"),l.find("[data-ax5docker-pane-tabs]").append(p),l.find("[data-ax5docker-pane-item-views]").append(i.$item),e.append(l)),l=null,s=null,p=null},resizeHandel:function(e,a,n){var t=jQuery('<div data-ax5docker-resize-handle=""></div>');e.append(t),t=null},row:function(e,n,t,i){var d=void 0,l=[];if(n&&"undefined"!=typeof n.panelPath&&l.push(n.panelPath),"undefined"==typeof t.panelPath&&(t.panelPath=i||0),l.push(t.panelPath),n&&"stack"==n.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";d=jQuery('<div data-ax5docker-pane-axis="row"></div>'),e.append(d),a.isArray(t.panels)&&t.panels.forEach(function(e,a){a>0&&o.resizeHandel(d,e,t,a),o[e.type](d,t,e,a)}),d=null},column:function(e,n,t,i){var d=void 0,l=[];if(n&&"undefined"!=typeof n.panelPath&&l.push(n.panelPath),"undefined"==typeof t.panelPath&&(t.panelPath=i||0),l.push(t.panelPath),n&&"stack"==n.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";d=jQuery('<div data-ax5docker-pane-axis="column" data-ax5docker-path="'+l.join(".")+'"></div>'),e.append(d),a.isArray(t.panels)&&t.panels.forEach(function(e,a){i>0&&o.resizeHandel(d,e,t,a),o[e.type](d,t,e,a)}),d=null}},l=jQuery('<div data-ax5docker-panes=""></div>');o[e.panels[0].type](l,null,e.panels[0],0),e.$target.html(l),e.$target.off("click").on("click","[data-ax5docker-pane-tab] .close-icon",function(e){console.log("close icon"),a.stopEvent(e)}).on("click","[data-ax5docker-pane-tab]",function(e){console.log("click pane-tab"),a.stopEvent(e)}),l=null};this.init=function(e){return n=jQuery.extend(!0,{},n,e),n.target?(this.$target=jQuery(n.target),this.panels=n.panels||[],this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,this.onLoad=n.onLoad,void(this.onDataChanged=n.onDataChanged)):(console.log(ax5.info.getError("ax5docker","401","init")),this)},this.setPanels=function(e){return this.panels=e||[],d(),this},this.addModule=function(e){return a.isObject(e)&&jQuery.extend(!0,this.modules,e),this},this.repaint=function(){d()},this.main=function(){arguments&&a.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return e}())}(),function(){var e=ax5.ui.docker,a=function(e){return" \n{{#panels}}\n{{#panels}}\n{{/panels}}\n{{^panels}}\n{{/panels}}\n{{/panels}}\n        "};e.tmpl={panels:a,get:function(a,n,t){return ax5.mustache.render(e.tmpl[a].call(this,t),n)}}}();
//# sourceMappingURL=ax5docker.min.js.map
