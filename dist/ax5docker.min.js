"use strict";!function(){var a=ax5.ui,e=ax5.util;a.addClass({className:"docker",version:"${VERSION}"},function(){var a=function(){var a=this,t=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,columnKeys:{}},this.panels=[],this.panelId=0,this.modules={},t=this.config;var n=function(){return a.panelId++},i=function(a,e){a.$element.html(e.name)},d=function(a,e){var t=[];return a&&"undefined"!=typeof a.panelPath&&t.push(a.panelPath),t.push("panels["+(e||0)+"]"),t.join(".")},o=function(a,e){var t=[],n=[].concat(e.split(/[\.\[\]]/g));return n.forEach(function(a){""!==a&&t.push('["'+a.replace(/['\"]/g,"")+'"]')}),Function("","return this"+t.join("")+";").call(a)},l=function(e){var t=jQuery.extend(e.moduleState,{name:e.name}),n={$element:e.$item};e.moduleName in a.modules&&"init"in a.modules[e.moduleName]?a.modules[e.moduleName].init(n,t):i(n,t)},s=function(){var i={stack:function(a,t,n,o){var l=void 0,s=-1;n.panelPath=d(t,o),l=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+n.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),a.append(l),e.isArray(n.panels)&&(n.panels.forEach(function(a,e){n.active&&(s=e)}),s===-1&&(s=0),n.panels[s].active=!0,n.panels.forEach(function(a,e){i[a.type](l,n,a,e)})),l=null,s=null},panel:function(a,e,i,o){var s=void 0;i.panelPath=d(e,o),i.$label=jQuery('<li data-ax5docker-pane-tab="'+o+'" data-ax5docker-path="'+i.panelPath+'"><div class="title">'+i.name+'</div><div class="close-icon">'+t.icons.close+"</div></li>"),i.$item||(i.$item=jQuery('<div data-ax5docker-pane-item="'+o+'" data-ax5docker-pane-id="'+n()+'" data-ax5docker-path="'+i.panelPath+'"></div>')),e&&"stack"==e.type?(i.active&&(l(i),i.$label.addClass("active"),i.$item.addClass("active")),a.find("[data-ax5docker-pane-tabs]").append(i.$label),a.find("[data-ax5docker-pane-item-views]").append(i.$item)):(s=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+i.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),l(i),i.$label.addClass("active"),i.$item.addClass("active"),s.find("[data-ax5docker-pane-tabs]").append(i.$label),s.find("[data-ax5docker-pane-item-views]").append(i.$item),a.append(s)),s=null},resizeHandel:function(a,e,t){var n=jQuery('<div data-ax5docker-resize-handle=""></div>');a.append(n),n=null},row:function(a,t,n,o){var l=void 0;if(n.panelPath=d(t,o),t&&"stack"==t.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";l=jQuery('<div data-ax5docker-pane-axis="row" data-ax5docker-path="'+n.panelPath+'"></div>'),a.append(l),e.isArray(n.panels)&&n.panels.forEach(function(a,e){e>0&&i.resizeHandel(l,a,n,e),i[a.type](l,n,a,e)}),l=null},column:function(a,t,n,o){var l=void 0;if(n.panelPath=d(t,o),t&&"stack"==t.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";l=jQuery('<div data-ax5docker-pane-axis="column" data-ax5docker-path="'+n.panelPath+'"></div>'),a.append(l),e.isArray(n.panels)&&n.panels.forEach(function(a,e){o>0&&i.resizeHandel(l,a,n,e),i[a.type](l,n,a,e)}),l=null}},o=jQuery('<div data-ax5docker-panes=""></div>');i[a.panels[0].type](o,null,a.panels[0],0),a.$target.html(o),a.$target.off("click").on("click","[data-ax5docker-pane-tab] .close-icon",function(a){console.log("close icon"),e.stopEvent(a)}).on("click","[data-ax5docker-pane-tab]",function(a){c(this),e.stopEvent(a)}),o=null},c=function(e){var t=jQuery(e),n=t.parents("[data-ax5docker-pane]"),i=t.attr("data-ax5docker-pane-tab");if(t.hasClass("active"))return!1;n.find(".active").removeClass("active"),n.find('[data-ax5docker-pane-tab="'+i+'"]').addClass("active"),n.find('[data-ax5docker-pane-item="'+i+'"]').addClass("active");var d=o(a,t.attr("data-ax5docker-path"));l(d)};this.init=function(a){return t=jQuery.extend(!0,{},t,a),t.target?(this.$target=jQuery(t.target),this.panels=t.panels||[],this.onStateChanged=t.onStateChanged,this.onClick=t.onClick,this.onLoad=t.onLoad,void(this.onDataChanged=t.onDataChanged)):(console.log(ax5.info.getError("ax5docker","401","init")),this)},this.setPanels=function(a){return this.panels=a||[],s(),this},this.addModule=function(a){return e.isObject(a)&&jQuery.extend(!0,this.modules,a),this},this.repaint=function(){s()},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return a}())}(),function(){var a=ax5.ui.docker,e=function(a){return" \n{{#panels}}\n{{#panels}}\n{{/panels}}\n{{^panels}}\n{{/panels}}\n{{/panels}}\n        "};a.tmpl={panels:e,get:function(e,t,n){return ax5.mustache.render(a.tmpl[e].call(this,n),t)}}}();
//# sourceMappingURL=ax5docker.min.js.map
