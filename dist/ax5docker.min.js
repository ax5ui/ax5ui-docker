"use strict";!function(){var a=ax5.ui,e=ax5.util;a.addClass({className:"docker",version:"1.3.87"},function(){var a=function(){var a=this,n=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,columnKeys:{},control:{},icons:{close:"X",more:"..."}},this.panels=[],this.panelId=0,this.modules={},n=this.config;var t=function(){return a.panelId++},l={init:function(a,e){a.$element.html(e.name)},active:function(a,e){},deactive:function(a,e){},destroy:function(a,e){}},s=function(a,e){var n=[];return a&&"undefined"!=typeof a.panelPath&&n.push(a.panelPath),n.push("panels["+(e||0)+"]"),n.join(".")},i=function(n){var t=[],l=e.isArray(n)?[].concat(n):[].concat(n.split(/[\.\[\]]/g));l.forEach(function(a){""!==a&&t.push('["'+a.replace(/['\"]/g,"")+'"]')});try{return Function("","return this"+t.join("")+";").call(a)}catch(s){return}},p=function(n,t){var l=[],s=e.isArray(n)?[].concat(n):[].concat(n.split(/[\.\[\]]/g));return s.forEach(function(a){""!==a&&l.push('["'+a.replace(/['\"]/g,"")+'"]')}),Function("val","return this"+l.join("")+" = val;").call(a,t)},o=function(t,s){var i=jQuery.extend(t.moduleState,{name:t.name}),o={$element:t.$item},r=void 0,d={init:function(){t.builded=!0,r=t.moduleName in a.modules&&"init"in a.modules[t.moduleName]?a.modules[t.moduleName]:l,r.init(o,i)},active:function(){t.active=!0,t.$label.addClass("active"),t.$item.addClass("active"),r=t.moduleName in a.modules&&"active"in a.modules[t.moduleName]?a.modules[t.moduleName]:l,r.active(o,i)},deactive:function(){t.active=!1,t.$label.removeClass("active"),t.$item.removeClass("active"),r=t.moduleName in a.modules&&"deactive"in a.modules[t.moduleName]?a.modules[t.moduleName]:l,r.deactive(o,i)},destroy:function(){r=t.moduleName in a.modules&&"destroy"in a.modules[t.moduleName]?a.modules[t.moduleName]:l,r.destroy(o,i),p(t.panelPath,null),f()}},u={panel:t,controlType:s},c=function(){d[s](),r=null,e.isFunction(n.control.after)&&n.control.after.call(u,u)};d[s]&&(e.isFunction(n.control.before)?n.control.before.call(u,u,function(){c()}):c())},r=function(){var l={stack:function(a,t,i,p){var o=void 0,r=-1;i.panelPath=s(t,p),o=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+i.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-tabs-aside="">'+n.icons.more+'</div><div data-ax5docker-pane-item-views=""></div></div>'),a.append(o),e.isArray(i.panels)&&(i.panels.forEach(function(a,e){a.active&&(r=e)}),r===-1&&(r=0),i.panels[r].active=!0,i.panels.forEach(function(a,e){a.panelIndex=e,l[a.type](o,i,a,e)})),o=null,r=null},panel:function(a,e,l,i){var p=void 0;l.panelPath=s(e,i),l.$label=jQuery('<li data-ax5docker-pane-tab="'+i+'" data-ax5docker-path="'+l.panelPath+'"><div class="title">'+l.name+'</div><div class="close-icon">'+n.icons.close+"</div></li>"),l.$item||(l.$item=jQuery('<div data-ax5docker-pane-item="'+i+'" data-ax5docker-pane-id="'+t()+'" data-ax5docker-path="'+l.panelPath+'"></div>')),e&&"stack"==e.type?(l.active&&(l.builded||o(l,"init"),o(l,"active")),a.find("[data-ax5docker-pane-tabs]").append(l.$label),a.find("[data-ax5docker-pane-item-views]").append(l.$item)):(p=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+l.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-tabs-aside="">'+n.icons.more+'</div><div data-ax5docker-pane-item-views=""></div></div>'),l.builded||o(l,"init"),o(l,"active"),p.find("[data-ax5docker-pane-tabs]").append(l.$label),p.find("[data-ax5docker-pane-item-views]").append(l.$item),a.append(p)),p=null},resizeHandle:function(a,e,n){var t=jQuery('<div data-ax5docker-resize-handle=""></div>');a.append(t),t=null},row:function(a,n,t,i){var p=void 0;if(t.panelPath=s(n,i),n&&"stack"==n.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";p=jQuery('<div data-ax5docker-pane-axis="row" data-ax5docker-path="'+t.panelPath+'"></div>'),a.append(p),e.isArray(t.panels)&&t.panels.forEach(function(a,e){e>0&&l.resizeHandle(p,a,t,e),a.panelIndex=e,l[a.type](p,t,a,e)}),p=null},column:function(a,n,t,i){var p=void 0;if(t.panelPath=s(n,i),n&&"stack"==n.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";p=jQuery('<div data-ax5docker-pane-axis="column" data-ax5docker-path="'+t.panelPath+'"></div>'),a.append(p),e.isArray(t.panels)&&t.panels.forEach(function(a,e){i>0&&l.resizeHandle(p,a,t,e),a.panelIndex=e,l[a.type](p,t,a,e)}),p=null}},i=jQuery('<div data-ax5docker-panes=""></div>');a.panels[0]&&l[a.panels[0].type](i,null,a.panels[0],0),a.$target.html(i),a.$target.off("click").on("click","[data-ax5docker-pane-tab] .close-icon",function(a){u($(this).parents("[data-ax5docker-pane-tab]")),e.stopEvent(a)}).on("click","[data-ax5docker-pane-tab]",function(a){d(this),e.stopEvent(a)}),h(),i=null},d=function(e){var n=jQuery(e),t=n.parents("[data-ax5docker-pane]"),l=(n.attr("data-ax5docker-pane-tab"),i(t.attr("data-ax5docker-path"))),s=i(n.attr("data-ax5docker-path"));if(n.hasClass("active"))return!1;for(var p=0,r=l.panels.length;p<r;p++)l.panels[p].active&&o(l.panels[p],"deactive");return s.builded||o(s,"init"),o(s,"active"),a},u=function(e){var n=jQuery(e),t=n.attr("data-ax5docker-path"),l=i(t);return o(l,"destroy"),a},c=ax5.util.debounce(function(a){a()},n.animateTime),h=function(){c(function(){this.$target.find("[data-ax5docker-pane-tabs]").each(function(){var a=jQuery(this).parent();this.scrollWidth>this.clientWidth?a.addClass("tabs-scrolled"):a.removeClass("tabs-scrolled"),a=null})}.bind(a))},f=function(){var n={stack:function(a){if(!e.isArray(a.panels))return!1;var t={type:"stack",panels:[]};if(a.panels.forEach(function(a,e){a&&t.panels.push(a)}),t.panels.length<2&&(t=t.panels[0]),e.isArray(t.panels))for(var l=0,s=t.panels.length;l<s;l++)t.panels[l]=n[t.panels[l].type](t.panels[l]);return t},panel:function(a){return a},row:function(a){if(!e.isArray(a.panels))return!1;var t={type:"row",panels:[]};if(a.panels.forEach(function(a,e){a&&t.panels.push(a)}),t.panels.length<2&&(t=t.panels[0]),e.isArray(t.panels))for(var l=0,s=t.panels.length;l<s;l++)t.panels[l]=n[t.panels[l].type](t.panels[l]);return t},column:function(a){if(!e.isArray(a.panels))return!1;var t={type:"column",panels:[]};if(a.panels.forEach(function(a,e){a&&t.panels.push(a)}),t.panels.length<2&&(t=t.panels[0]),e.isArray(t.panels))for(var l=0,s=t.panels.length;l<s;l++)t.panels[l]=n[t.panels[l].type](t.panels[l]);return t}};a.panels[0]?a.panels[0]=n[a.panels[0].type](a.panels[0]):a.panels=[],r()};this.init=function(a){return n=jQuery.extend(!0,{},n,a),n.target?(this.$target=jQuery(n.target),this.panels=n.panels||[],this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,this.onLoad=n.onLoad,this.onDataChanged=n.onDataChanged,void jQuery(window).bind("resize.ax5docker-"+this.id,function(){h()})):(console.log(ax5.info.getError("ax5docker","401","init")),this)},this.setPanels=function(a){return this.panels=a||[],r(),this},this.addModule=function(a){return e.isObject(a)&&jQuery.extend(!0,this.modules,a),this},this.repaint=function(){return r(),this},this.addPanel=function(a,e,n,t){"undefined"==a&&(a="0"),a=a.replace(/[a-zA-Z\[\]]+/g,"").replace(/(\d+)/g,function(a,e){return"panels["+a+"]"});var l=i(a);console.log(l);var s={stack:function(e,n,t){var l=jQuery.extend({},e),s={stack:function(a,e){a.panels.push(e),f()},"row-left":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"row"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"row",panels:[]}),e.panels.push(t),e.panels.push(l),f())},"row-right":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"row"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"row",panels:[]}),e.panels.push(l),e.panels.push(t),f())},"column-top":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"column"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"column",panels:[]}),e.panels.push(t),e.panels.push(l),f())},"column-bottom":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"column"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"column",panels:[]}),e.panels.push(l),e.panels.push(t),f())}};n in s&&s[n].call(this,e,t),l=null,s=null},row:function(e,n,t,l){var s=jQuery.extend({},e),o={stack:function(a,e){a.panels[0]&&a.panels[0].panelPath&&this.addPanel(a.panels[0].panelPath,n,e)},"row-left":function(e,n,t){var l=a.substr(0,a.lastIndexOf(".")),o=i(l);"row"==o.type?(e.panels.splice(t,0,n),f()):(e=p(a,{type:"row",panels:[]}),e.panels.push(n),e.panels.push(s),f())},"row-right":function(e,n,t){var l=a.substr(0,a.lastIndexOf(".")),o=i(l);"row"==o.type?(e.panels.splice(t+1,0,n),f()):(e=p(a,{type:"row",panels:[]}),e.panels.push(s),e.panels.push(n),f())},"column-top":function(e,t,l){var o=a.substr(0,a.lastIndexOf(".")),r=i(o);"column"==r.type?this.addPanel(r.panelPath,n,t,e.panelIndex):(e=p(a,{type:"column",panels:[]}),e.panels.push(t),e.panels.push(s),f())},"column-bottom":function(e,t,l){var o=a.substr(0,a.lastIndexOf(".")),r=i(o);"column"==r.type?this.addPanel(r.panelPath,n,t,e.panelIndex):(e=p(a,{type:"column",panels:[]}),e.panels.push(s),e.panels.push(t),f())}};n in o&&o[n].call(this,e,t,l),o=null,s=null},column:function(e,n,t,l){var s=jQuery.extend({},e),o={stack:function(a,e){a.panels[0]&&a.panels[0].panelPath&&this.addPanel(a.panels[0].panelPath,n,e)},"row-left":function(e,t){var l=a.substr(0,a.lastIndexOf(".")),o=i(l);"row"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"row",panels:[]}),e.panels.push(t),e.panels.push(s),f())},"row-right":function(e,t){var l=a.substr(0,a.lastIndexOf(".")),o=i(l);"row"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"row",panels:[]}),e.panels.push(s),e.panels.push(t),f())},"column-top":function(a,e){a.panels.splice(l,0,e),f()},"column-bottom":function(a,e){a.panels.splice(l+1,0,e),f()}};n in o&&o[n].call(this,e,t),o=null,s=null},panel:function(e,n,t){var l=jQuery.extend({},e),s={stack:function(e,n){e=p(a,{type:"stack",panels:[]}),e.panels.push(l),e.panels.push(n),f()},"row-left":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"row"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"row",panels:[]}),e.panels.push(t),e.panels.push(l),f())},"row-right":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"row"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"row",panels:[]}),e.panels.push(l),e.panels.push(t),f())},"column-top":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"column"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"column",panels:[]}),e.panels.push(t),e.panels.push(l),f())},"column-bottom":function(e,t){var s=a.substr(0,a.lastIndexOf(".")),o=i(s);"column"==o.type?this.addPanel(o.panelPath,n,t,e.panelIndex):(e=p(a,{type:"column",panels:[]}),e.panels.push(l),e.panels.push(t),f())}};n in s&&s[n].call(this,e,t),l=null,s=null}};return s[l.type].call(this,l,e,n,t),this},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return a}())}(),function(){var a=ax5.ui.docker,e=function(a){return" \n{{#panels}}\n{{#panels}}\n{{/panels}}\n{{^panels}}\n{{/panels}}\n{{/panels}}\n        "};a.tmpl={panels:e,get:function(e,n,t){return ax5.mustache.render(a.tmpl[e].call(this,t),n)}}}();